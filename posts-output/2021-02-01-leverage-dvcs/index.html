<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Jonathon&#39;s Blog: Leverage Your DVCS</title>
    
<meta name="keywords" content="">

<meta name="description" content="This is not your parents&#39; VCSSome of us remember when VCS meant CVS, Perforce, SourceSafe, or
another classic like these. Most were rather straightforward to use,
and did the basic job they advertised: track changes to source code. I
should say I did not work extensively with most of these, but I&#39;m
going to make a few general comments, opinion-based:">

<meta property="og:description" content="This is not your parents&#39; VCSSome of us remember when VCS meant CVS, Perforce, SourceSafe, or
another classic like these. Most were rather straightforward to use,
and did the basic job they advertised: track changes to source code. I
should say I did not work extensively with most of these, but I&#39;m
going to make a few general comments, opinion-based:">

<meta property="og:url" content="http://jmckitrick.github.io/posts-output/2021-02-01-leverage-dvcs/" />
<meta property="og:title" content="Leverage Your DVCS" />
<meta property="og:type" content="article" />

    <link rel="canonical" href="http://jmckitrick.github.io/posts-output/2021-02-01-leverage-dvcs/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//fonts.googleapis.com/css?family=Alegreya:400italic,700italic,400,700" rel="stylesheet"
          type="text/css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">
    <link href="/css/screen.css" rel="stylesheet" type="text/css" />
</head>
<body>


<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Jonathon&#39;s Blog</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li ><a href="/">Home</a></li>
                <li
                ><a href="/archives/">Archives</a></li>
                
                <li
                >
                <a href="/pages-output/about/">About</a>
                </li>
                
                <li><a href="/feed.xml">RSS</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div><!--/.container-fluid -->
</nav>


<div class="container">


    <div class="row">
        <div class="col-lg-9">
            <div id="content">
                
<div id="post">
    <div class="post-header">
    <div id="post-meta" class="row">
        <div class="col-lg-6">February 1, 2021</div>
        
    </div>
    <h2>Leverage Your DVCS</h2>
</div>
<div>
    
    <h2 id="this-is-not-your-parents-vcs">This is not your parents' VCS</h2><p>Some of us remember when VCS meant CVS, Perforce, SourceSafe, or
another classic like these. Most were rather straightforward to use,
and did the basic job they advertised: track changes to source code. I
should say I did not work extensively with most of these, but I'm
going to make a few general comments, opinion-based:</p><ul><li>They were designed around one source of 'truth' or main code repo.</li><li>Branches and merges were not encouraged, and often difficult, if not
impossible.</li><li>Logs were glorified changelogs.</li></ul><p>Keep in mind computing power was far less than today, so there was a
cost incurred for computing diffs, copying large repos, and storing
code.</p><p>By now, nearly everyone has come to embrace distributed version
control. While <code>git</code> is the tool most of us use, it's not the only
one. Some still use <code>mercurial</code>, and <code>darcs</code> is still alive (and
doesn't get as much credit as it should have).</p><h2 id="dvcs-as-a-power-tool">DVCS as a power tool</h2><p>Whichever tool you use, most likely it allows cheap branching,
rewriting of history, and ways to share patches, branches, or forks
between repositories, which could each be copies of an original repo.
In the case of <code>git</code>, which I've been using the longest, I've noticed
that most of my colleagues know just enough to commit their work, push
and pull changes, and view the history log. And that's about it.</p><p>While you generally won't hear any complaints about this approach,
there's a huge opportunity being lost to leverage the tool. Have you
ever heard a developer say they still coded with Notepad? Sure, it can
be done, but if a more advanced tool exists that makes your job much
easier, why not use it, right? Well, <code>git</code> and similar DVCS tools are
similar. Once you learn to <em>really</em> use them, you will wonder why you
waited so long to do so.</p><p>Distributed version control has had a tremendous impact on workflow.
And that impact has evolved over time. Best practices have been built
up, torn down, and rebuilt. It has become one of those tools that has
spawned entire schools of thought on how development should be done
(CI/CD, trunk-based development with feature flags, etc).</p><p>DVCS can have the same impact on your personal workflow. Do not just
view version control as something you do when you finish a bug or
feature before you move on. View it instead as a vital part of your
recordkeeping.</p><h2 id="commit-messages-are-extended-code-comments">Commit messages are extended code comments</h2><p>We've all heard the debate over comments in code. How much is <em>too</em>
much? How little is <em>too</em> little? Have you ever created a multi-line
comment that you felt needed to be there, but then deleted it because
of fears it was <em>too</em> much, that it would be ignored, or worse yet,
would be misleading if it were not maintained along with the code?</p><p>In an ideal world (and codebase) the code would speak for itself, and
we would never, EVER allow a kludge solution that requires any kind of
explanation. But that's not how things work. Sometimes code does <em>not</em>
speak for itself, especially if an ostensibly better implementation
comes to mind the moment you view it. But sometimes there is more to
the story than should be in a comment.</p><p>Git commit messages are the place for such explanations. They will
never suffer bitrot, because by definition they are timestamped,
immutable and forever connected directly to the related code.</p><p>Here's an example. A couple of years ago, we had a bug where a user
got an error when they tried to save their comments in an audit log.
They were trying to use an emoji in the form. Let me say first that I
am <em>not</em> an expert in unicode or character encoding by any means. I
know or learn enough to deal with these issues as they arise. After
some detective work, we learned that the system encoding in theory
should have allowed emojis at both the platform and database levels.
But as I experimented with the form and via unit tests, I found that
some emojis worked, and others did not. It seemed this was related to
our database encoding system. There was a cutoff point in the unicode
system beyond which the characters were not accepted by the database.
So, I added validation to allow characters up to that boundary, and
added unit tests for both working and non-working unicode characters.</p><p>After the bug was fixed and the ticket closed, I still had a nagging
feeling something was missing. I really wanted to capture the
explanation of what I had learned and how the unit tests validated
that explanation. But I never found a place that felt right. It didn't
belong in a wiki page and it seemed too much for code comments.
Documenting the unit tests was an idea, but it still seemed too far
from the code. And there was the possibility that some future change
to the platform or the database encoding could make the tests
irrelevant.</p><p>Since then, I have realized that <code>git</code> log messages are ideal for
this purpose. Let's consider why.</p><ol><li>They are immutable and timestamped.</li><li>They can appear next to the code in question.</li></ol><p>Most of us using <code>git</code> treat the <code>master</code> branch as immutable history.
Viewing the log shows how the code evolved over time, and <em>why</em> it
changed, assuming you practice some discipline with your commit
messages. While the history might show you when a code comment was
introduced, it doesn't tell you if it is still relevant. However, the
commit message itself <em>is</em> relevant to exactly that moment in time. If
the code changes, it's very possible the comments will drift out of
date, but the git history <em>cannot</em> drift out of date, because it is
bound to that one moment in time when it was relevant to the code it
was committed with.</p><p>Also, nearly every IDE out there allows you to show git commit
messages right next to the code via <code>git blame</code> mode. It's as if you
have expandable comments available at the press of a button or click
of a mouse. They can be as brief or as extensive as needed to convey
the <em>why</em> of the code change. So you never have to decide if you
should shorten a code comment out of fear it will be too long to
remain in the source code, nor leave it out completely because there's
no good place to put it.</p><h2 id="find-your-own-zone">Find your own 'zone'</h2><p>This is just one example how <code>git</code> or any DVCS can have a tremendously
positive impact on your workflow. But you need to find what works for
you. Most of these tools have a plethora of commands and options, and
no shortage of online tutorials showing how to use them. I've heard
the 'onion' approach is one way to learn these tools. Start with the
surface, until you are comfortable with it, and add deeper commands as
you learn about them from others, or find a need unmet by your current
level of knowledge. Many <code>git</code> users have said if you try to master it
all at once, it's like cutting onions, and ends in tears. Some
commands are confusing, and the options even moreso. So start slowly,
master what you need, then add more. You might never need the git
reflog. But you'll very likely find rebase and squash become vital
parts of your workflow.</p>
</div>


    <div id="prev-next">
        
        
        <a class="right" href="/posts-output/2020-05-13-take-notes/">Take notes &raquo;</a>
        
    </div>

    


</div>

            </div>
        </div>

        <div class="col-md-3">
            <div id="sidebar">
                <h3>Links</h3>
                <ul id="links">
                    <li><a href="http://cryogenweb.org/docs/home.html">Cryogen Docs</a></li>
                    <li><a href="https://carmen.la/blog/archives/">Carmen's Blog</a></li>
                    
                    <li><a href="/pages-output/another-page/">Another Page</a></li>
                    
                </ul>
                
                <div id="recent">
                    <h3>Recent Posts</h3>
                    <ul>
                        
                        <li><a href="/posts-output/2021-02-01-leverage-dvcs/">Leverage Your DVCS</a></li>
                        
                        <li><a href="/posts-output/2020-05-13-take-notes/">Take notes</a></li>
                        
                        <li><a href="/posts-output/2020-05-12-why-matters/">Why personal process matters</a></li>
                        
                    </ul>
                </div>
                
                
            </div>
        </div>
    </div>
    <footer>Copyright &copy; 2021 Jonathon McKitrick
        <p style="text-align: center;">Powered by <a href="http://cryogenweb.org">Cryogen</a></p></footer>
</div>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="/js/highlight.pack.js" type="text/javascript"></script>
<script>hljs.initHighlightingOnLoad();</script>


</body>
</html>
